<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-users] Tr : [izpack-devel] Re : Localizing	InstallationGroupPanel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20Tr%20%3A%20%5Bizpack-devel%5D%20Re%20%3A%20Localizing%0A%09InstallationGroupPanel&In-Reply-To=">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001566.html">
   <LINK REL="Next"  HREF="001568.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-users] Tr : [izpack-devel] Re : Localizing	InstallationGroupPanel</H1>
    <B>Loic</B> 
    <A HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20Tr%20%3A%20%5Bizpack-devel%5D%20Re%20%3A%20Localizing%0A%09InstallationGroupPanel&In-Reply-To="
       TITLE="[izpack-users] Tr : [izpack-devel] Re : Localizing	InstallationGroupPanel">lbndev at yahoo.fr
       </A><BR>
    <I>Mon Jun 25 17:37:09 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001566.html">[izpack-users] Getting system environment
</A></li>
        <LI>Next message: <A HREF="001568.html">[izpack-users] problem with license panel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1567">[ date ]</a>
              <a href="thread.html#1567">[ thread ]</a>
              <a href="subject.html#1567">[ subject ]</a>
              <a href="author.html#1567">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Lionel, Markus,

Last october I had set up a patch to be able to localize group names and posted it to izPack-devel. The patch hadn't been applied as there was ongoing work that would conflict. Fabrice is the one who could be more precise on what was going on (I never knew). Please see the forwarded messages below : you will find my patch and Fabrice's answer.

As far as I know, my patch has not been applied so far. Maybe Fabrice didn't have time to finish his solution, or simply forgot my patch. Either way, don't blame him, as we are all busy people and he spends a lot more time on this project than most of us do. And since I had build my own izPack, I didn't remind him after one last try in november (blame me for that if you want, but as I said, I sometimes get busy too).

Feel free to use this patch to build your own custom version of izPack. Please ignore the last few lines : they are obsolete. They allowed localization of the columns headers, which are now localizable in the latest version of IzPack.

Maintainers (Julien, Fabrice and others) : it looks like we are at least 3 to be looking forward to having this feature implemented. Could you please consider applying my patch again ? If yes, I will happily send you an up-to-date version, along with the relevant documentation patch. Of course, I will expect it to be promptly reviewed &amp; committed in return. If you agree, please say it.

Lo&#239;c

----- Original message ----
De : Markus Schlegel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">schlm3 at gmail.com</A>&gt;
&#192; : <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-users at lists.berlios.de</A>
Envoy&#233; le : Lundi, 25 Juin 2007, 12h12mn 15s
Objet : Re: [izpack-users] InstallGroups name

Groupnames can't be I18n'ed.
I'
d like to have translated them myself in my project, and I could also
make the need changes in the sources, but since my patches won't get
applied to the code base, I will save my time (I recently implemented a
sort-order for Installationgroups which has not been applied, no answer
at all received).


Maybe you can try the new hierarchical Packs (but they are not officially released I think).

Markus

2007/6/25, calimucho calimucho &lt;
<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">lionel.ramos.work at gmail.com</A>&gt;:Hi guys,

 

I'd try to do an internationalization with the name of the different 

installgroup in the InstallationGroupPanel but with the PacksLang

I don't find a solution...

Any ideas?

 

cheers,

lionel






----- Forwarded message ----
De : miraodb &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">miraodb at hotmail.com</A>&gt;
&#192; : <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-devel at lists.berlios.de</A>
Envoy&#233; le : Mercredi, 11 Octobre 2006, 15h47mn 33s
Objet : Re: [izpack-devel] Localizing InstallationGroupPanel

Hi Loic,

First of all ,thanks for the patch and the interest you put in IzPack. I've 
looked to your code and it seems pretty good. I have however to ask you to 
wait a bit till i can commit such thing. The main reason is that a comming 
future will probably solve that problem not only for this panel but for all 
of
 them. I'm still on it and i have yet not finish it nor documented it 
properly. Once it's there i'll  post the whole thing.

Cheers,
Fabrice.

PS: I keep your solution in mind, in case mine doesnt show up... :-(
PS N&#176;2: If anyone is against that idea, say it loud :-)
----- Original Message ----- 
From: &quot;Loic&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">lbndev at yahoo.fr</A>&gt;
To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-devel at lists.berlios.de</A>&gt;
Sent: Wednesday, October 11, 2006 5:52 AM
Subject: [izpack-devel] Localizing InstallationGroupPanel


Hi,

Looks like the InstallationGroupPanel included in IzPack 3.9 is not 
localizable beyond the groups descriptions.
May I suggest the patch below to allow for some more localization (table 
colums headers, group names) ?

Thanks,

Lo&#239;c

--- InstallationGroupPanel-orig.java    2006-10-02 15:23:20.879057552 +0200
+++ InstallationGroupPanel-modif.java    2006-10-02
 15:43:44.785995416 +0200
@@ -325,7 +325,8 @@
                 if (data == null)
                 {
                     String description = getGroupDescription(group);
-                    data = new GroupData(group, description);
+            String gname = getLocalizedGroupName(group);
+                    data = new GroupData(gname,
 description);
                     installGroups.put(group, data);
                 }
             }
@@ -399,9 +400,51 @@
         return description;
     }

+    /**
+     * Look for a key = InstallationGroupPanel.group.[group] entry:
+     * first using idata.langpackgetString(key+&quot;.html&quot;)
+     * next using idata.langpack.getString(key)
+     * next using idata.getVariable(key)
+     * lastly, defaulting to group
+     * @param group - the installation group name
+     *
 @return the localized group name
+     */
+    protected String getLocalizedGroupName(String group)
+    {
+        String gname = null;
+        String key = &quot;InstallationGroupPanel.group.&quot; + group;
+        if( idata.langpack != null )
+        {
+            String htmlKey = key+&quot;.html&quot;;
+            String html = idata.langpack.getString(htmlKey);
+            // This will equal the key if there is no entry
+            if( htmlKey.equalsIgnoreCase(html)
 )
+                gname = idata.langpack.getString(key);
+            else
+                gname = html;
+        }
+        if (gname == null)
+            gname = idata.getVariable(key);
+        if (gname == null)
+            gname = group;
+        try
+        {
+            gname = URLDecoder.decode(description,
 &quot;UTF-8&quot;);
+        }
+        catch (UnsupportedEncodingException e)
+        {
+            emitWarning(&quot;Failed to convert localized group name&quot;, 
e.getMessage());
+        }
+
+        return gname;
+    }
+
     protected TableModel getModel(HashMap groupData)
     {
-        String[] columns = { &quot;Selected&quot;, &quot;InstallType&quot;, &quot;Size&quot;};
+        String[] columns = { 
idata.langpack.getString(&quot;InstallationGroupPanel.header.selection&quot;),
+ 
idata.langpack.getString(&quot;InstallationGroupPanel.header.description&quot;),
+
 
idata.langpack.getString(&quot;InstallationGroupPanel.header.size&quot;};
+
          DefaultTableModel model = new DefaultTableModel (columns, 0)
          {
             public boolean isCellEditable (int row, int column)








		 
Yahoo! Mail r&#233;invente le mail ! D&#233;couvrez le nouveau Yahoo! Mail et son interface r&#233;volutionnaire.
_______________________________________________
izpack-devel mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-devel at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">https://lists.berlios.de/mailman/listinfo/izpack-devel</A>







	
	
		
___________________________________________________________________________ 
D&#233;couvrez une nouvelle fa&#231;on d'obtenir des r&#233;ponses &#224; toutes vos questions ! 
Profitez des connaissances, des opinions et des exp&#233;riences des internautes sur Yahoo! Questions/R&#233;ponses 
<A HREF="http://fr.answers.yahoo.com">http://fr.answers.yahoo.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.berlios.de/pipermail/izpack-users/attachments/20070625/5ea53f5b/attachment.html">https://lists.berlios.de/pipermail/izpack-users/attachments/20070625/5ea53f5b/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001566.html">[izpack-users] Getting system environment
</A></li>
	<LI>Next message: <A HREF="001568.html">[izpack-users] problem with license panel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1567">[ date ]</a>
              <a href="thread.html#1567">[ thread ]</a>
              <a href="subject.html#1567">[ subject ]</a>
              <a href="author.html#1567">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-users">More information about the izpack-users
mailing list</a><br>
</body></html>
