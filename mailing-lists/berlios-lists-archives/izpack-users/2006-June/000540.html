<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-users] Problem and partly fix running izpack in WINE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20Problem%20and%20partly%20fix%20running%20izpack%20in%20WINE&In-Reply-To=">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-users] Problem and partly fix running izpack in WINE</H1>
    <B>Pander</B> 
    <A HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20Problem%20and%20partly%20fix%20running%20izpack%20in%20WINE&In-Reply-To="
       TITLE="[izpack-users] Problem and partly fix running izpack in WINE">pander at users.sourceforge.net
       </A><BR>
    <I>Tue Jun  6 21:26:44 CEST 2006</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000541.html">[izpack-users] Problem and partly fix running izpack in WINE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#540">[ date ]</a>
              <a href="thread.html#540">[ thread ]</a>
              <a href="subject.html#540">[ subject ]</a>
              <a href="author.html#540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I thought WINE would be good to test windows specific izpack installers
on a Linux system, but I run into a problem.

I have managed to install Java Runtime Environment:

$ wine java -version
java version &quot;1.4.2_11&quot;
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_11-b06)
Java HotSpot(TM) Client VM (build 1.4.2_11-b06, mixed mode)

It gives a small error but I decided to ignore it.

This is the result of my installer test:

$ wine java -jar test-installer-windows-1.2.jar
Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 0
        at sun.util.calendar.ZoneInfoFile.createZoneInfo(Unknown Source)
        at sun.util.calendar.ZoneInfoFile.getZoneInfo(Unknown Source)
        at sun.util.calendar.ZoneInfo.getTimeZone(Unknown Source)
        at java.util.TimeZone.getTimeZone(Unknown Source)
        at java.util.TimeZone.getDefault(Unknown Source)
        at java.text.SimpleDateFormat.initialize(Unknown Source)
        at java.text.SimpleDateFormat.&lt;init&gt;(Unknown Source)
        at java.util.Date.toString(Unknown Source)
        at java.lang.String.valueOf(Unknown Source)
        at java.lang.StringBuffer.append(Unknown Source)
        at com.izforge.izpack.installer.Installer.main(Installer.java:44)

This can be fixed by running the installer like this:

$ wine java -Duser.timezone=UTC -jar test-installer-windows-1.2.jar

Then the installer comes up with an empty grey window. All works via the keyboard but there is nothing to see. WINE logs heaps of lines with fixme and not supported yet.

fixme:font:WineEngAddFontResourceEx Ignoring flags 10
fixme:win:EnumDisplayDevicesW ((null),0,0x7fafe5fc,0x00000000), stub!
fixme:win:EnumDisplayDevicesW ((null),1,0x7fafe5fc,0x00000000), stub!
fixme:ddraw:Main_DirectDraw_SetCooperativeLevel (0x7fe3f538)-&gt;((nil),00001008)
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_LINEPATTERN (0000000a) value : 00000000 !
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_MONOENABLE (0000000b) value : 00000000 !
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_ROP2 (0000000c) value : 0000000d !
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_PLANEMASK (0000000d) value : ffffffff !
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_LASTPIXEL (00000010) value : 00000001 !
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_ZVISIBLE (0000001e) value : 00000000 !
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_EDGEANTIALIAS (00000028) value : 00000000 !
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_RANGEFOGENABLE (00000030) value : 00000000 !
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_EXTENTS (0000008a) value : 00000000 !
err:ddraw:set_render_state Unhandled dwRenderStateType D3DRENDERSTATE_VERTEXBLEND (00000097) value : 00000000 !
fixme:ddraw:DIB_DirectDrawSurface_Blt Can't handle DDBLT_WAIT flag right now.
fixme:font:WineEngCreateFontInstance Untranslated charset 255
fixme:imm:ImmGetOpenStatus (0x6d088868): semi-stub
fixme:imm:ImmSetConversionStatus (0x6d088868, 1, 0): stub
fixme:imm:ImmGetDefaultIMEWnd (0x1002a - (nil) 0x7fe611e0 ): semi-stub
fixme:ddraw:upload_surface_to_tex_memory_init Warning : pitch is not a multiple of BPP - not supported yet !
...

If more people are interested in running izpack in WINE, an izpack page could be created in at winehq.

Thanks,

Pander


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000541.html">[izpack-users] Problem and partly fix running izpack in WINE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#540">[ date ]</a>
              <a href="thread.html#540">[ thread ]</a>
              <a href="subject.html#540">[ subject ]</a>
              <a href="author.html#540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-users">More information about the izpack-users
mailing list</a><br>
</body></html>
