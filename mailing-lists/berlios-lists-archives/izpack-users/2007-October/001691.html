<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-users] rights check
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20rights%20check&In-Reply-To=20071004051213.156250%40gmx.net">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001690.html">
   <LINK REL="Next"  HREF="001693.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-users] rights check</H1>
    <B>CW2</B> 
    <A HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20rights%20check&In-Reply-To=20071004051213.156250%40gmx.net"
       TITLE="[izpack-users] rights check">Carl.Wilson at uk.thalesgroup.com
       </A><BR>
    <I>Thu Oct  4 12:47:18 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001690.html">[izpack-users] rights check
</A></li>
        <LI>Next message: <A HREF="001693.html">[izpack-users] parsable file problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1691">[ date ]</a>
              <a href="thread.html#1691">[ thread ]</a>
              <a href="subject.html#1691">[ subject ]</a>
              <a href="author.html#1691">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Dave Tschische wrote:
&gt;<i> 
</I>&gt;<i> Hi!
</I>&gt;<i> 
</I>&gt;<i> I 'd like to know if there is an easy way to check if the user has
</I>&gt;<i> sufficient rights (e.g. admin rights) before the installer is launched?
</I>&gt;<i> I did not find anything about this issue in the docu.
</I>&gt;<i> 
</I>&gt;<i> Just want to avoid that the installation is started but then several
</I>&gt;<i> substeps fail an the users is bothered with cryptic error messages....
</I>&gt;<i> 
</I>&gt;<i> Any suggestions?
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Dave
</I>&gt;<i> -- 
</I>&gt;<i> Ist Ihr Browser Vista-kompatibel? Jetzt die neuesten 
</I>&gt;<i> Browser-Versionen downloaden: <A HREF="http://www.gmx.net/de/go/browser">http://www.gmx.net/de/go/browser</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> izpack-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">https://lists.berlios.de/mailman/listinfo/izpack-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
I had this problem as well, and it gets complicated when you have domain
administrators where it depends on the domain configuration.
I've had a look at getting this info from the Java security methods, but
gave up.
I've fallen back to running a process &quot;net user &quot; +
System.getProperty(&quot;user.name&quot;) + &quot; /DOMAIN&quot; and checking the results to see
whether that user is a member of the administrator's group
This isn't very satisfactory and only works if you're using the domain
you're logged into (don't ask for an explanation of this - I've got 2
networks here, it works ok on one but not on the other where the domain
controller isn't the domain I'm logged into)

I'm considering just running another external program, possibly some code
based in Jordan Russel's free INNO installer, which does actually check if
the user is an administrator, poweruser, etc.  Just write some code to
output 'administrator' or something when run /VERYSILENT.  It's not an
elegant solution, but it'll work and allow you to get the installer working.

I'll look out for a neater solution if someone can suggest something based
on Java.  Ideally I'd want the solution to work on Linux as well.
-- 
View this message in context: <A HREF="http://www.nabble.com/rights-check-tf4565872.html#a13037437">http://www.nabble.com/rights-check-tf4565872.html#a13037437</A>
Sent from the izpack users mailing list archive at Nabble.com.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001690.html">[izpack-users] rights check
</A></li>
	<LI>Next message: <A HREF="001693.html">[izpack-users] parsable file problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1691">[ date ]</a>
              <a href="thread.html#1691">[ thread ]</a>
              <a href="subject.html#1691">[ subject ]</a>
              <a href="author.html#1691">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-users">More information about the izpack-users
mailing list</a><br>
</body></html>
