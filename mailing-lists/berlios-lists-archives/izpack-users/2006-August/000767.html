<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-users] Accessing variables at install time
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20Accessing%20variables%20at%20install%20time&In-Reply-To=">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000766.html">
   <LINK REL="Next"  HREF="000782.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-users] Accessing variables at install time</H1>
    <B>Bartz, Klaus</B> 
    <A HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20Accessing%20variables%20at%20install%20time&In-Reply-To="
       TITLE="[izpack-users] Accessing variables at install time">Klaus.Bartz at coi.de
       </A><BR>
    <I>Tue Aug  8 09:04:29 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000766.html">[izpack-users] Accessing variables at install time
</A></li>
        <LI>Next message: <A HREF="000782.html">[izpack-users] Accessing variables at install time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#767">[ date ]</a>
              <a href="thread.html#767">[ thread ]</a>
              <a href="subject.html#767">[ subject ]</a>
              <a href="author.html#767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Paul,
more than one way goes to Rom...
I use the AntActionInstallerListener of IzPack for revise our ear file.
It contains place holder in some config files. For it I have written a 
little ant task which unpacks the ear, uses the replace task and packs
it again. The placeholder are in a properties file. 
This file I create in an other custom action on the fly. There is no 
template, else the defaults are written in the source of the custom action.
All IzPack variables for this have a prefix. All variables with such an
prefix will be write into the properties file. Therefore only the
variable have to be declared to add a new one.
If needed, I can give you the source.
I do not use the UserInputPanel else I write my own panels (in the moment
I change the layout behavior for this). I create simple the variables
in the isValidated() method like
idata.setVariable(&quot;EJBProperties.EJB_Host&quot;, hostName.getText());

Cheers

Klaus

&gt;<i>-----Original Message-----
</I>&gt;<i>From: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-users-bounces at lists.berlios.de</A>
</I>&gt;<i>[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-users-bounces at lists.berlios.de</A>]On Behalf Of Paul Stuart
</I>&gt;<i>Sent: Monday, August 07, 2006 5:40 PM
</I>&gt;<i>To: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-users at lists.berlios.de</A>
</I>&gt;<i>Subject: [izpack-users] Accessing variables at install time
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Hi,
</I>&gt;<i>
</I>&gt;<i>Our software currently is installed using a script wrapper around an
</I>&gt;<i>ant installer. The user has to edit a properties file and then run the
</I>&gt;<i>script.
</I>&gt;<i>
</I>&gt;<i>I would like to use IzPack to gather user input and generate the
</I>&gt;<i>properties file and then run the script.
</I>&gt;<i>
</I>&gt;<i>I've created a &quot;Hello World&quot; installer with multiple UserInputPanel
</I>&gt;<i>panels but haven't been able to figure out how to acces all those user
</I>&gt;<i>input variables at install time (to generate a new properties file). I
</I>&gt;<i>see
</I>&gt;<i>
</I>&gt;<i>I also couldn't see a clean way of importing the initial properties
</I>&gt;<i>file into the installer--the only way it looks like would be for me to
</I>&gt;<i>do a transform of the file to a &lt;variables&gt; list and insert that into
</I>&gt;<i>install.xml.
</I>&gt;<i>
</I>&gt;<i>Any insight would be appreciated!
</I>&gt;<i>
</I>&gt;<i>-Paul
</I>&gt;<i>_______________________________________________
</I>&gt;<i>izpack-users mailing list
</I>&gt;<i><A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-users at lists.berlios.de</A>
</I>&gt;<i><A HREF="http://bat.berlios.de/mailman/listinfo/izpack-users">http://bat.berlios.de/mailman/listinfo/izpack-users</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000766.html">[izpack-users] Accessing variables at install time
</A></li>
	<LI>Next message: <A HREF="000782.html">[izpack-users] Accessing variables at install time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#767">[ date ]</a>
              <a href="thread.html#767">[ thread ]</a>
              <a href="subject.html#767">[ subject ]</a>
              <a href="author.html#767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-users">More information about the izpack-users
mailing list</a><br>
</body></html>
