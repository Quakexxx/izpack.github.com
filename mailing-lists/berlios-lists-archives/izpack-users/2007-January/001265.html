<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-users] Removing files before installing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20Removing%20files%20before%20installing&In-Reply-To=op.tmdctdh3nznptk%40hase2">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001258.html">
   <LINK REL="Next"  HREF="001260.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-users] Removing files before installing</H1>
    <B>Jose M. Rus</B> 
    <A HREF="mailto:izpack-users%40lists.berlios.de?Subject=%5Bizpack-users%5D%20Removing%20files%20before%20installing&In-Reply-To=op.tmdctdh3nznptk%40hase2"
       TITLE="[izpack-users] Removing files before installing">josemrus at gmail.com
       </A><BR>
    <I>Wed Jan 24 16:44:36 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001258.html">[izpack-users] Removing files before installing
</A></li>
        <LI>Next message: <A HREF="001260.html">[izpack-users] nested conditions in conditions.xml
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1265">[ date ]</a>
              <a href="thread.html#1265">[ thread ]</a>
              <a href="subject.html#1265">[ subject ]</a>
              <a href="author.html#1265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you Klaus,

I've been exploring the listener path you mentioned but it doesn't really
fit my needs. I've solved it by using the ProcessPanel and launching some
batch files to process the update just after the installation.

What I wanted was something to:
* Delete some files and directories before the installation (the files to
upgrade).
* Keep some files and directories (for example configuration files).

What I consider something near to the ideal solution would be to add a new
parameter to &lt;fileset&gt; inside pack elements to force deletion of some dirs
(&#191;&quot;remove&quot;?). This could empty dirs completely, complementing the &quot;override&quot;
attribute (which doesn't delete files created after the installation by the
application itself or files present in the previous version that should be
deleted during the upgrade). But this seemed too much complicated so I took
the easy path of launching batch files, thanks anyway.

Greetings.

On 1/18/07, Klaus Bartz &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">bartzkau at gmx.net</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi Jose,
</I>&gt;<i> not by configure, but you can write a custom action which will
</I>&gt;<i> be called before installation and do it. Only possible if you are
</I>&gt;<i> firm with Java. If you will do it, there is a description in the
</I>&gt;<i> docu and some existent InstallerListener in the subdir &quot;event&quot;.
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i>
</I>&gt;<i> Klaus
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Am 18.01.2007, 21:45 Uhr, schrieb Jose M. Rus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">josemrus at gmail.com</A>&gt;:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi list,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is is possible to configure IzPack to delete the installation directory
</I>&gt;<i> &gt; when
</I>&gt;<i> &gt; it's not empty before installing its files? I have some problems when
</I>&gt;<i> the
</I>&gt;<i> &gt; user installs a new version of the application over a previous
</I>&gt;<i> directory,
</I>&gt;<i> &gt; because of already existing jar and configuration files.Ideally the user
</I>&gt;<i> &gt; should uninstall the previous version, but this rarely happens.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; __________ NOD32 1.1392 (20060202) Information __________
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Diese E-Mail wurde vom NOD32 Antivirus System gepr&#252;ft
</I>&gt;<i> &gt; <A HREF="http://www.nod32.com">http://www.nod32.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Erstellt mit Operas revolution&#228;rem E-Mail-Modul:
</I>&gt;<i> <A HREF="http://www.opera.com/mail/">http://www.opera.com/mail/</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> izpack-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">izpack-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-users">https://lists.berlios.de/mailman/listinfo/izpack-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.berlios.de/pipermail/izpack-users/attachments/20070124/a150edf0/attachment.html">https://lists.berlios.de/pipermail/izpack-users/attachments/20070124/a150edf0/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001258.html">[izpack-users] Removing files before installing
</A></li>
	<LI>Next message: <A HREF="001260.html">[izpack-users] nested conditions in conditions.xml
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1265">[ date ]</a>
              <a href="thread.html#1265">[ thread ]</a>
              <a href="subject.html#1265">[ subject ]</a>
              <a href="author.html#1265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-users">More information about the izpack-users
mailing list</a><br>
</body></html>
