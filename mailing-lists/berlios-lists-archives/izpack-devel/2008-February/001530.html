<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-devel] xinclude - can't use include from within userInputSpec.xml (in installation time)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20xinclude%20-%20can%27t%20use%20include%20from%20within%0A%20userInputSpec.xml%20%28in%20installation%20time%29&In-Reply-To=">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001538.html">
   <LINK REL="Next"  HREF="001533.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-devel] xinclude - can't use include from within userInputSpec.xml (in installation time)</H1>
    <B>Piotr Skowronek</B> 
    <A HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20xinclude%20-%20can%27t%20use%20include%20from%20within%0A%20userInputSpec.xml%20%28in%20installation%20time%29&In-Reply-To="
       TITLE="[izpack-devel] xinclude - can't use include from within userInputSpec.xml (in installation time)">piotr at skowro.net
       </A><BR>
    <I>Sun Feb  3 23:38:13 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001538.html">[izpack-devel] Drop 1.4 compatibility?
</A></li>
        <LI>Next message: <A HREF="001533.html">[izpack-devel] xinclude - can't use include from within userInputSpec.xml (in installation time)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1530">[ date ]</a>
              <a href="thread.html#1530">[ thread ]</a>
              <a href="subject.html#1530">[ subject ]</a>
              <a href="author.html#1530">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

There is a problem with using xinclude feature when used
in userInputSpec.xml. The problem appears in installation-time,
when XIncludeXMLBuilder is unable to find fragments. They would
have to be placed outside of install.jar, to be accessible
in installation-time.

However, xinclude feature works fine for install.xml as fragments
are included/resolved during compilation time. UserInputSpec.xml
is not parsed in compile-time, but simply embedded into resources.

I have worked out a quick solution for it. It can be found
in the attachment. Tell me what do you think about it.
The solution is to modify XIncludeXMLBuilder, to be able
to check resources whether they contain referenced fragment.
Fragments have to be put in resources, and referenced using
/res/ prefix, as I didn't want to hard code this prefix into
XIncludeXMLBuilder.

One more time, tell me what do you think about this patch.

Regards,
Piotr Skowronek
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: 20080203_ps_include.diff
Url: <A HREF="https://lists.berlios.de/pipermail/izpack-devel/attachments/20080203/e491b7b7/attachment.ksh">https://lists.berlios.de/pipermail/izpack-devel/attachments/20080203/e491b7b7/attachment.ksh</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001538.html">[izpack-devel] Drop 1.4 compatibility?
</A></li>
	<LI>Next message: <A HREF="001533.html">[izpack-devel] xinclude - can't use include from within userInputSpec.xml (in installation time)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1530">[ date ]</a>
              <a href="thread.html#1530">[ thread ]</a>
              <a href="subject.html#1530">[ subject ]</a>
              <a href="author.html#1530">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-devel">More information about the izpack-devel
mailing list</a><br>
</body></html>
