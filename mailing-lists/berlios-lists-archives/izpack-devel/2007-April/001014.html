<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-devel] Native Libraries for Win 64-bit ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Native%20Libraries%20for%20Win%2064-bit%20%3F&In-Reply-To=591E33C080D2E5449BB1791B70D66B280139AD21%40coi11.coi.com">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001012.html">
   <LINK REL="Next"  HREF="001017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-devel] Native Libraries for Win 64-bit ?</H1>
    <B>Markus Schlegel</B> 
    <A HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Native%20Libraries%20for%20Win%2064-bit%20%3F&In-Reply-To=591E33C080D2E5449BB1791B70D66B280139AD21%40coi11.coi.com"
       TITLE="[izpack-devel] Native Libraries for Win 64-bit ?">schlm3 at gmail.com
       </A><BR>
    <I>Fri Apr 20 15:34:52 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001012.html">[izpack-devel] Native Libraries for Win 64-bit ?
</A></li>
        <LI>Next message: <A HREF="001017.html">[izpack-devel] Langpacks as properties files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1014">[ date ]</a>
              <a href="thread.html#1014">[ thread ]</a>
              <a href="subject.html#1014">[ subject ]</a>
              <a href="author.html#1014">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>HI Klaus, thanks for you reply.

When I tried to compile JDIC for 64-bit, I
realized 5 minutes ago, that the compiler may be the source of the problem.
So I don't have too look for the reason any longer, thanks.

So it seems, that I have no chance to compile it myself, because I don't
know MS-VC++ enough.
What should be done?
1. Make the native parts of IzPack compilable with VC++2005 (32-bit)
2. Compile for 64bit

Until then, we will ship with the Win32-JRE on all windows and then copy a
win64-VM into the installation, overwrite the win32 files.

Markus

2007/4/20, Bartz, Klaus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">Klaus.Bartz at coi.de</A>&gt;:
&gt;<i>
</I>&gt;<i> Hi Markus,
</I>&gt;<i> the problem is not a different platform SDK else the compiler self.
</I>&gt;<i> Both dlls are made with MS Visual C++ 6.0 Enterprise Edition without a
</I>&gt;<i> platform SDK., but including
</I>&gt;<i> the header files from a JDK; at buildtime from 1.4.2_6, but 1.5.0_11should also work.
</I>&gt;<i> In the moment it compiles and links without any error or warning for all
</I>&gt;<i> four configurations.
</I>&gt;<i> The version of the used MS Visual Studio you can see in the configuration
</I>&gt;<i> file COIOSHelper.dsw
</I>&gt;<i> The first line is
</I>&gt;<i> Microsoft Developer Studio Workspace File, Format Version 6.00
</I>&gt;<i> If you have used it with Version 8 (or 2005, as you like) VS has called
</I>&gt;<i> for converting it.
</I>&gt;<i>
</I>&gt;<i> I assume, that it is not possible to create the 64 bit dll with VS 6.0.
</I>&gt;<i>
</I>&gt;<i> The problem with the new one is, that MS makes a macroitis and has changed
</I>&gt;<i> something deep in the
</I>&gt;<i> header chain. Some days ago I have seen the same error messages. It will
</I>&gt;<i> be not enough to insert
</I>&gt;<i> casts because the have differ between unicode and non-unicode. I have not
</I>&gt;<i> tested to create 64 bit
</I>&gt;<i> dlls. I assume there will be more problems. The project file do not
</I>&gt;<i> contain explicit sections for 64 bit.
</I>&gt;<i>
</I>&gt;<i> If I can, I will spend some time for this point, if not some one else has
</I>&gt;<i> done it. But in the moment
</I>&gt;<i> there are other things on the top of my stack.
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i>
</I>&gt;<i> Klaus
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> *From:* <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-bounces at lists.berlios.de</A> [mailto:
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-bounces at lists.berlios.de</A>] *On Behalf Of *Markus Schlegel
</I>&gt;<i> *Sent:* Friday, April 20, 2007 2:31 PM
</I>&gt;<i> *To:* izpack-devel
</I>&gt;<i> *Subject:* Re: [izpack-devel] Native Libraries for Win 64-bit ?
</I>&gt;<i>
</I>&gt;<i> I have now installed &quot;MSVisualC++ 2005&quot; and the &quot;Windows(r) Server 2003 R2
</I>&gt;<i> Platform SDK&quot;.
</I>&gt;<i>
</I>&gt;<i> I can open the projects for the native libraries, but compile fails.
</I>&gt;<i> When I try to compile (Win 32) ShellLink.dll and COIOSHeper.dll, errors of
</I>&gt;<i> the following kind are generated:
</I>&gt;<i>
</I>&gt;<i> c:\deron\3rdparty\izpack_3.10\src\native\shelllink\shelllink.cpp(409) :
</I>&gt;<i> error C2440: 'Initialisierung': 'const jchar *' kann nicht in 'const TCHAR
</I>&gt;<i> *' konvertiert werden
</I>&gt;<i> Die Typen, auf die verwiesen wird, sind nicht verkn&#252;pft; die Konvertierung
</I>&gt;<i> erfordert einen reinterpret_cast-Operator oder eine Typumwandlung im C- oder
</I>&gt;<i> Funktionsformat.
</I>&gt;<i>
</I>&gt;<i> It seems so, that the Platform SDK I use is not compatible with the one
</I>&gt;<i> the original developer has used. But I can't find any documentation on which
</I>&gt;<i> SDK to use.
</I>&gt;<i>
</I>&gt;<i> When I try to compile COIOSHelper.dll
</I>&gt;<i> , many other errors will also be generated.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Anyone with exerience in compiling the native parts?
</I>&gt;<i>
</I>&gt;<i> Thanks for any hint
</I>&gt;<i>
</I>&gt;<i> Markus
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2007/4/18, Markus Schlegel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">schlm3 at gmail.com</A>&gt;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi Julien, Klaus, Developers
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Rigth now, I am working on the 64-bit release of our Java Application.
</I>&gt;<i> &gt; Most of the things are working well, except all dll's that are used must
</I>&gt;<i> &gt; be compiled for 64-bit windows.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Since IzPack (and my installer) uses COIOShelper.dll and ShellLink.dll
</I>&gt;<i> &gt; , I have to provide a 64-bit compilation of those two dll's for my 64-bit installer.
</I>&gt;<i> &gt; Could you please give me advice on what tools I have to install in order
</I>&gt;<i> &gt; that I could compile the libraries for 64-bit OS?
</I>&gt;<i> &gt; Or is it even possible, that you can compile it for 64-bit too (I do not
</I>&gt;<i> &gt; know if this is possible from a 32-bit windows)?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Notice, that I don't have much experiance in compiling native
</I>&gt;<i> &gt; applications on the commandline and I don't have and MS Visual Studio
</I>&gt;<i> &gt; installed....
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks for your help
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Markus
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> izpack-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">https://lists.berlios.de/mailman/listinfo/izpack-devel</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.berlios.de/pipermail/izpack-devel/attachments/20070420/6efd244a/attachment.html">https://lists.berlios.de/pipermail/izpack-devel/attachments/20070420/6efd244a/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001012.html">[izpack-devel] Native Libraries for Win 64-bit ?
</A></li>
	<LI>Next message: <A HREF="001017.html">[izpack-devel] Langpacks as properties files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1014">[ date ]</a>
              <a href="thread.html#1014">[ thread ]</a>
              <a href="subject.html#1014">[ subject ]</a>
              <a href="author.html#1014">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-devel">More information about the izpack-devel
mailing list</a><br>
</body></html>
