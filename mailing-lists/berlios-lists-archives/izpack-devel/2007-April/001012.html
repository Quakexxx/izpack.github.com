<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-devel] Native Libraries for Win 64-bit ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Native%20Libraries%20for%20Win%2064-bit%20%3F&In-Reply-To=">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001013.html">
   <LINK REL="Next"  HREF="001014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-devel] Native Libraries for Win 64-bit ?</H1>
    <B>Bartz, Klaus</B> 
    <A HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Native%20Libraries%20for%20Win%2064-bit%20%3F&In-Reply-To="
       TITLE="[izpack-devel] Native Libraries for Win 64-bit ?">Klaus.Bartz at coi.de
       </A><BR>
    <I>Fri Apr 20 15:21:08 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001013.html">[izpack-devel] Langpacks as properties files
</A></li>
        <LI>Next message: <A HREF="001014.html">[izpack-devel] Native Libraries for Win 64-bit ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1012">[ date ]</a>
              <a href="thread.html#1012">[ thread ]</a>
              <a href="subject.html#1012">[ subject ]</a>
              <a href="author.html#1012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Markus,
the problem is not a different platform SDK else the compiler self.
Both dlls are made with MS Visual C++ 6.0 Enterprise Edition without a platform SDK., but including 
the header files from a JDK; at buildtime from 1.4.2_6, but 1.5.0_11 should also work.
In the moment it compiles and links without any error or warning for all four configurations.
The version of the used MS Visual Studio you can see in the configuration file COIOSHelper.dsw
The first line is
Microsoft Developer Studio Workspace File, Format Version 6.00
If you have used it with Version 8 (or 2005, as you like) VS has called for converting it.
 
I assume, that it is not possible to create the 64 bit dll with VS 6.0.
 
The problem with the new one is, that MS makes a macroitis and has changed something deep in the 
header chain. Some days ago I have seen the same error messages. It will be not enough to insert
casts because the have differ between unicode and non-unicode. I have not tested to create 64 bit
dlls. I assume there will be more problems. The project file do not contain explicit sections for 64 bit.
 
If I can, I will spend some time for this point, if not some one else has done it. But in the moment
there are other things on the top of my stack.
 
Cheers
 
Klaus

	-----Original Message-----
	From: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-bounces at lists.berlios.de</A>] On Behalf Of Markus Schlegel
	Sent: Friday, April 20, 2007 2:31 PM
	To: izpack-devel
	Subject: Re: [izpack-devel] Native Libraries for Win 64-bit ?
	
	
	I have now installed &quot;MSVisualC++ 2005&quot; and the &quot;Windows&#174; Server 2003 R2 Platform SDK&quot;.
	
	I can open the projects for the native libraries, but compile fails.
	When I try to compile (Win 32) ShellLink.dll and COIOSHeper.dll, errors of the following kind are generated:
	
	c:\deron\3rdparty\izpack_3.10\src\native\shelllink\shelllink.cpp(409) : error C2440: 'Initialisierung': 'const jchar *' kann nicht in 'const TCHAR *' konvertiert werden 
	Die Typen, auf die verwiesen wird, sind nicht verkn&#252;pft; die Konvertierung erfordert einen reinterpret_cast-Operator oder eine Typumwandlung im C- oder Funktionsformat.
	
	It seems so, that the Platform SDK I use is not compatible with the one the original developer has used. But I can't find any documentation on which SDK to use. 
	
	When I try to compile COIOSHelper.dll, many other errors will also be generated.
	
	
	Anyone with exerience in compiling the native parts?
	
	Thanks for any hint
	
	Markus
	
	
	
	
	2007/4/18, Markus Schlegel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">schlm3 at gmail.com</A>&gt;: 

		Hi Julien, Klaus, Developers
		
		Rigth now, I am working on the 64-bit release of our Java Application.
		Most of the things are working well, except all dll's that are used must be compiled for 64-bit windows.
		
		Since IzPack (and my installer) uses COIOShelper.dll and ShellLink.dll, I have to provide a 64-bit compilation of those two dll's for my 64-bit installer.
		Could you please give me advice on what tools I have to install in order that I could compile the libraries for 64-bit OS? 
		Or is it even possible, that you can compile it for 64-bit too (I do not know if this is possible from a 32-bit windows)?
		
		Notice, that I don't have much experiance in compiling native applications on the commandline and I don't have and MS Visual Studio installed.... 
		
		Thanks for your help
		
		Markus
		


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="https://lists.berlios.de/pipermail/izpack-devel/attachments/20070420/bd48c576/attachment.html">https://lists.berlios.de/pipermail/izpack-devel/attachments/20070420/bd48c576/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001013.html">[izpack-devel] Langpacks as properties files
</A></li>
	<LI>Next message: <A HREF="001014.html">[izpack-devel] Native Libraries for Win 64-bit ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1012">[ date ]</a>
              <a href="thread.html#1012">[ thread ]</a>
              <a href="subject.html#1012">[ subject ]</a>
              <a href="author.html#1012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-devel">More information about the izpack-devel
mailing list</a><br>
</body></html>
