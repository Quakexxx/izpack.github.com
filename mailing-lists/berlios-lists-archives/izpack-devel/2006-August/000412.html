<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-devel] Backup for the installed files and the	wipeAbortproblem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Backup%20for%20the%20installed%20files%20and%20the%0A%09wipeAbortproblem&In-Reply-To=">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000411.html">
   <LINK REL="Next"  HREF="000413.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-devel] Backup for the installed files and the	wipeAbortproblem</H1>
    <B>Bartz, Klaus</B> 
    <A HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Backup%20for%20the%20installed%20files%20and%20the%0A%09wipeAbortproblem&In-Reply-To="
       TITLE="[izpack-devel] Backup for the installed files and the	wipeAbortproblem">Klaus.Bartz at coi.de
       </A><BR>
    <I>Mon Aug 21 09:45:45 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000411.html">[izpack-devel] Backup for the installed files and the wipeAbort	problem
</A></li>
        <LI>Next message: <A HREF="000413.html">[izpack-devel] Backup for the installed files and the	wipeAbortproblem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#412">[ date ]</a>
              <a href="thread.html#412">[ thread ]</a>
              <a href="subject.html#412">[ subject ]</a>
              <a href="author.html#412">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael,
nice, but e.g. are your installing knowing whether a version of your
program is already installed or not? What about adding or removing
a pack to/from the installation?

Since longer time I am thinking about &quot;maintenance&quot; in IzPack.
I will not tinker here a little bit and there a little bit else
make an update/upgrade mechanism like it is in MSI.
E.g. I think there should be a data base independant from one
installation to store e.g. what packs are installed in what
version etc.
Up to know I have not had the time to do it because I think it
will be much work. Next time there are also not to much time for
it. It will be nice if work can be shared.

The first step should be to make a concept. Are you - or any other -
interested?

Cheers

Klaus

&gt;<i>-----Original Message-----
</I>&gt;<i>From: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-bounces at lists.berlios.de</A>
</I>&gt;<i>[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-bounces at lists.berlios.de</A>]On Behalf Of Michael
</I>&gt;<i>Scherer
</I>&gt;<i>Sent: Monday, August 21, 2006 9:10 AM
</I>&gt;<i>To: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel at lists.berlios.de</A>
</I>&gt;<i>Subject: [izpack-devel] Backup for the installed files and the
</I>&gt;<i>wipeAbortproblem
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Good morning all.
</I>&gt;<i>
</I>&gt;<i>As you might know (or not) I had some issues two weeks ago 
</I>&gt;<i>cause an installer 
</I>&gt;<i>erased all files of an application after we canceled it right 
</I>&gt;<i>after the 
</I>&gt;<i>InstallationPanel.
</I>&gt;<i>I know that this is no &quot;real&quot; problem cause IzPack is more an 
</I>&gt;<i>installer than 
</I>&gt;<i>an updater but we use it here for both purposes.
</I>&gt;<i>
</I>&gt;<i>First of all I disabled the wipeAbort() function for our 
</I>&gt;<i>installer to make 
</I>&gt;<i>sure that won't happen again. That's not the ideal solution, I 
</I>&gt;<i>know, but makes 
</I>&gt;<i>sure that at least the configs remain where they belong. I'll 
</I>&gt;<i>come back to the 
</I>&gt;<i>wipeAbort() function later.
</I>&gt;<i>
</I>&gt;<i>Second we decided that I'd be nice to have some sort of 
</I>&gt;<i>&quot;backup&quot; in IzPack.
</I>&gt;<i>If not during the installation process, than at least in the 
</I>&gt;<i>Uninstaller.
</I>&gt;<i>What I implemented now is a backup class, that gets the 
</I>&gt;<i>filenames of the files 
</I>&gt;<i>that are installed before they are copied to the filesystem 
</I>&gt;<i>and adds them, if 
</I>&gt;<i>enabled with
</I>&gt;<i>  &lt;uninstaller write=&quot;yes&quot; backup=&quot;yes&quot; .../&gt;
</I>&gt;<i>to the subdirectory &quot;backup&quot; of the Uninstaller.jar
</I>&gt;<i>On a local filesystem that doesn't really takes much time.
</I>&gt;<i>
</I>&gt;<i>The Uninstaller(Frame) got extended that if the &quot;backup&quot; 
</I>&gt;<i>subdirectory exists 
</I>&gt;<i>it allows the user to roll back that one installation.
</I>&gt;<i>So if you installed the wrong update into the wrong directory 
</I>&gt;<i>... simply roll 
</I>&gt;<i>it back with the Uninstaller.
</I>&gt;<i>
</I>&gt;<i>Question 1: Do the IzPack-Devs like that idea?
</I>&gt;<i>Question 2: If so, where to send the patches? :)
</I>&gt;<i>
</I>&gt;<i>Now back to the wipeAbort() function.
</I>&gt;<i>With the backup-info/data in hand the wipeAbort function might 
</I>&gt;<i>also rollback 
</I>&gt;<i>the previously done steps instead of erasing the whole directory tree.
</I>&gt;<i>Which is IMHO a bit of an awkward approach anyway.
</I>&gt;<i>
</I>&gt;<i>Ideas? Opinions? Flames? :)
</I>&gt;<i>
</I>&gt;<i>Greetings,
</I>&gt;<i>  Michael
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>izpack-devel mailing list
</I>&gt;<i><A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel at lists.berlios.de</A>
</I>&gt;<i><A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">https://lists.berlios.de/mailman/listinfo/izpack-devel</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000411.html">[izpack-devel] Backup for the installed files and the wipeAbort	problem
</A></li>
	<LI>Next message: <A HREF="000413.html">[izpack-devel] Backup for the installed files and the	wipeAbortproblem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#412">[ date ]</a>
              <a href="thread.html#412">[ thread ]</a>
              <a href="subject.html#412">[ subject ]</a>
              <a href="author.html#412">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-devel">More information about the izpack-devel
mailing list</a><br>
</body></html>
