<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-devel] Backup for the installed files and the wipeAbort	problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Backup%20for%20the%20installed%20files%20and%20the%20wipeAbort%0A%09problem&In-Reply-To=">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000439.html">
   <LINK REL="Next"  HREF="000412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-devel] Backup for the installed files and the wipeAbort	problem</H1>
    <B>Michael Scherer</B> 
    <A HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Backup%20for%20the%20installed%20files%20and%20the%20wipeAbort%0A%09problem&In-Reply-To="
       TITLE="[izpack-devel] Backup for the installed files and the wipeAbort	problem">michi at buks-island.org
       </A><BR>
    <I>Mon Aug 21 09:09:56 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000439.html">[izpack-devel] Patch for embedding panel configuration	inthesingle install.xml
</A></li>
        <LI>Next message: <A HREF="000412.html">[izpack-devel] Backup for the installed files and the	wipeAbortproblem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#411">[ date ]</a>
              <a href="thread.html#411">[ thread ]</a>
              <a href="subject.html#411">[ subject ]</a>
              <a href="author.html#411">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good morning all.

As you might know (or not) I had some issues two weeks ago cause an installer 
erased all files of an application after we canceled it right after the 
InstallationPanel.
I know that this is no &quot;real&quot; problem cause IzPack is more an installer than 
an updater but we use it here for both purposes.

First of all I disabled the wipeAbort() function for our installer to make 
sure that won't happen again. That's not the ideal solution, I know, but makes 
sure that at least the configs remain where they belong. I'll come back to the 
wipeAbort() function later.

Second we decided that I'd be nice to have some sort of &quot;backup&quot; in IzPack.
If not during the installation process, than at least in the Uninstaller.
What I implemented now is a backup class, that gets the filenames of the files 
that are installed before they are copied to the filesystem and adds them, if 
enabled with
  &lt;uninstaller write=&quot;yes&quot; backup=&quot;yes&quot; .../&gt;
to the subdirectory &quot;backup&quot; of the Uninstaller.jar
On a local filesystem that doesn't really takes much time.

The Uninstaller(Frame) got extended that if the &quot;backup&quot; subdirectory exists 
it allows the user to roll back that one installation.
So if you installed the wrong update into the wrong directory ... simply roll 
it back with the Uninstaller.

Question 1: Do the IzPack-Devs like that idea?
Question 2: If so, where to send the patches? :)

Now back to the wipeAbort() function.
With the backup-info/data in hand the wipeAbort function might also rollback 
the previously done steps instead of erasing the whole directory tree.
Which is IMHO a bit of an awkward approach anyway.

Ideas? Opinions? Flames? :)

Greetings,
  Michael


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000439.html">[izpack-devel] Patch for embedding panel configuration	inthesingle install.xml
</A></li>
	<LI>Next message: <A HREF="000412.html">[izpack-devel] Backup for the installed files and the	wipeAbortproblem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#411">[ date ]</a>
              <a href="thread.html#411">[ thread ]</a>
              <a href="subject.html#411">[ subject ]</a>
              <a href="author.html#411">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-devel">More information about the izpack-devel
mailing list</a><br>
</body></html>
