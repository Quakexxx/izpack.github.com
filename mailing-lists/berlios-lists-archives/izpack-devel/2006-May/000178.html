<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-devel] Re: Pack File Size
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Re%3A%20Pack%20File%20Size&In-Reply-To=591E33C080D2E5449BB1791B70D66B2889166C%40coi11.coi.com">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000177.html">
   <LINK REL="Next"  HREF="000179.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-devel] Re: Pack File Size</H1>
    <B>Hal Vaughan</B> 
    <A HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Re%3A%20Pack%20File%20Size&In-Reply-To=591E33C080D2E5449BB1791B70D66B2889166C%40coi11.coi.com"
       TITLE="[izpack-devel] Re: Pack File Size">hal at thresholddigital.com
       </A><BR>
    <I>Wed May 10 11:05:26 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000177.html">[izpack-devel] Back...
</A></li>
        <LI>Next message: <A HREF="000179.html">[izpack-devel] [izpack-users] Re: Pack File Size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#178">[ date ]</a>
              <a href="thread.html#178">[ thread ]</a>
              <a href="subject.html#178">[ subject ]</a>
              <a href="author.html#178">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm responding on the user list, but also sending it to the devel list 
because I really should have posted this to the devel list in the first 
place.  This is the 2nd time this week I typed in the list address on 
IzPack. (I wonder if it has to do with the all-nighters I've had to do 
lately?)

On Wednesday 10 May 2006 04:05, Bartz, Klaus wrote:
&gt;<i> Hi Hal,
</I>&gt;<i> you know, I do not use the web install feature, but I assume that
</I>&gt;<i> I am the last who has made something at packaging.
</I>&gt;<i> I have created a &quot;normal&quot; (non splited) installation three times.
</I>&gt;<i> File size of jar files are allways the same. MD5 are not identically.
</I>&gt;<i> A look with a hexeditor shows the diffs. There is an dir like
</I>&gt;<i> entry for each contained file in the jar file where one byte differs
</I>&gt;<i> also the time stamp shown by winzip will be identically.
</I>&gt;<i> Additional there is a difference in the time stamp of
</I>&gt;<i> meta-inf/Manifest.mf which will be generated by ant on the fly.
</I>&gt;<i> Result will be that it is not possible to use a MD5 of jar files to
</I>&gt;<i> detect that they contains the same.
</I>&gt;<i> Generell this is a point of maintenance. You can do a little bit of
</I>&gt;<i> maintenance with IzPack, but real maintenance is more.
</I>&gt;<i> I am thinking about it since a long time because in fact we need it.
</I>&gt;<i> But it is a complicated theme which needs a discussion and a design
</I>&gt;<i> infront of implementation. May be we should begin a thread on the
</I>&gt;<i> iszpack-devel mailing list.
</I>
The differences are only one or two bytes in length.  I won't have time 
to check the time stamp for a while, but I guess I'll just have to 
assume it will always be the same length.  It is possible, but 
unlikely, that the length of differences could be a result of the 
encryption stream I'm using, but then it should only effect the pack 
I'm encrypting.

I don't know if my situation is unique, but I have to prepare a separate 
install for each of my clients, since one pack includes individualized 
passwords for each client.  That means each time I get a new client, I 
have to create a new web install and standard install, upload the web 
install and put the standard install on a CD.  Since I have two large 
packs, that means it takes a long time to upload.  What I was thinking 
about doing was uploading the two big packs, using symlinks so I had 
only one copy of each big pack, and not uploading a new copy until 
something in the pack changed.

At this point I think I'm going to be using rdiff to upload a patch file 
containing only the differences.

Hal

&gt;<i> Cheers
</I>&gt;<i>
</I>&gt;<i> Klaus
</I>&gt;<i>
</I>&gt;<i> &gt;-----Original Message-----
</I>&gt;<i> &gt;From: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-users-admin at berlios.de</A>
</I>&gt;<i> &gt;[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-users-admin at berlios.de</A>]On Behalf Of Hal Vaughan
</I>&gt;<i> &gt;Sent: Tuesday, May 09, 2006 7:52 PM
</I>&gt;<i> &gt;To: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-users at berlios.de</A>
</I>&gt;<i> &gt;Subject: [izpack-users] Pack File Size
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I've been doing some test compiles and working with pack files and
</I>&gt;<i> &gt; the install.jar that IzPack creates.  I will have to make my web
</I>&gt;<i> &gt; install available on my web site (obviously), and that means I will
</I>&gt;<i> &gt; have to upload it to the site.  There are two packs in each install
</I>&gt;<i> &gt; that are big (they are OpenOffice for Linux and Windows).  It takes
</I>&gt;<i> &gt; about 30 minutes to upload one of these files using scp.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;To avoid unnecessary uploads, I figured I could check the MD5
</I>&gt;<i> &gt;sum of the
</I>&gt;<i> &gt;file on my website with the MD5 sum of the file I've created.  If
</I>&gt;<i> &gt; they match, I'm re-creating what I had and there's no reason to
</I>&gt;<i> &gt; upload. That way I can change around packs and only have to upload
</I>&gt;<i> &gt; the ones I don't alter (the uploading is an automatic script).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;While experimenting with creating the install.jar file, I've
</I>&gt;<i> &gt;found that
</I>&gt;<i> &gt;even when I do NOT change a thing on the files that are included,
</I>&gt;<i> &gt; the length of the file changes.  I don't see why this should
</I>&gt;<i> &gt; happen.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;What is included in the Install.jar file or the individual packs
</I>&gt;<i> &gt; that would change the length?  Why is it I can create the same
</I>&gt;<i> &gt; install 3 different times and get 3 different file lengths?  (Once
</I>&gt;<i> &gt; I saw the different file lengths, I didn't even bother to check the
</I>&gt;<i> &gt; MD5 sums.)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I'd like to know what causes this because I may want to alter it in
</I>&gt;<i> &gt; my copy of IzPack.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Thanks for any info on what might make the same install compile
</I>&gt;<i> &gt;differently each time I do it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Hal
</I>&gt;<i> &gt;_______________________________________________
</I>&gt;<i> &gt;izpack-users mailing list
</I>&gt;<i> &gt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-users at lists.berlios.de</A>
</I>&gt;<i> &gt;<A HREF="http://lists.berlios.de/mailman/listinfo/izpack-users">http://lists.berlios.de/mailman/listinfo/izpack-users</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> izpack-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="http://lists.berlios.de/mailman/listinfo/izpack-users">http://lists.berlios.de/mailman/listinfo/izpack-users</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000177.html">[izpack-devel] Back...
</A></li>
	<LI>Next message: <A HREF="000179.html">[izpack-devel] [izpack-users] Re: Pack File Size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#178">[ date ]</a>
              <a href="thread.html#178">[ thread ]</a>
              <a href="subject.html#178">[ subject ]</a>
              <a href="author.html#178">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-devel">More information about the izpack-devel
mailing list</a><br>
</body></html>
