<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-devel] Adding XInclude support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Adding%20XInclude%20support&In-Reply-To=">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001315.html">
   <LINK REL="Next"  HREF="001317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-devel] Adding XInclude support</H1>
    <B>Matthew Fudge</B> 
    <A HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Adding%20XInclude%20support&In-Reply-To="
       TITLE="[izpack-devel] Adding XInclude support">matfud at yahoo.com
       </A><BR>
    <I>Wed Dec 12 10:07:25 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001315.html">[izpack-devel] Adding XInclude support
</A></li>
        <LI>Next message: <A HREF="001317.html">[izpack-devel] Adding XInclude support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1316">[ date ]</a>
              <a href="thread.html#1316">[ thread ]</a>
              <a href="subject.html#1316">[ subject ]</a>
              <a href="author.html#1316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tino,


At the moment I'm planning on supporting all of XInclude apart from XPointer (which allows references to particular infosets (elements) inside the current or other documents)

So anywhere in any of the XML documents used in izpack you can do

&lt;include  href='other.xml'/&gt; 

which will replace the include with the contents of the 'other.xml'. This works for Http/https/file protocols and relative file references(without needing the &quot;<A HREF="file://&quot;">file://&quot;</A> bit). It's not that I really need anything apart from relative file references but they come almost for free. It will also support the fallback element (again this is not much use in an installer but not to much effort to add)

In addition I am adding a &quot;fragment&quot; element that can be used as a root node in included documents. This element will be removed when the document is included. This enables included documents to be xml fragments such as a set of field elements to be included in the userInputSpec.xml

XInclude is also recursive in that &quot;include&quot; elements in included documents will also be included.
 

Cheers

Matt


----- Original Message ----
From: Tino Schwarze &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">berlios.de at tisc.de</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel at lists.berlios.de</A>
Sent: Wednesday, 12 December, 2007 7:53:01 AM
Subject: Re: [izpack-devel] Adding XInclude support

Hi Matthew,

On Tue, Dec 11, 2007 at 03:47:59AM -0800, Matthew Fudge wrote:

&gt;<i> I'm looking at adding support for a subset of the XInclude
</I> specification (<A HREF="http://www.w3.org/TR/xinclude/">http://www.w3.org/TR/xinclude/</A>) to IzPack. 
&gt;<i> 
</I>&gt;<i> To make a few projects of mine a bit more modular and maintainable I
</I> think it would be useful to allow parts of the 
&gt;<i> xml files used by IzPack to be included from other files (and yes
</I> I've tried using external entities but they are a bit limited
&gt;<i> for my needs)
</I>
Which parts do you want to include, in detail?

&gt;<i> The current code is based on a copy of the StdXMLBuilder class that
</I> has been modified to allow extending classes access to its internal
 state.
&gt;<i> 
</I>&gt;<i> Note that this will not be a full implementation of the XInclude spec
</I> (I don't have time right now to handle the XPointer stuff properly)
&gt;<i> 
</I>&gt;<i> So some questions: 
</I>&gt;<i> 
</I>&gt;<i> a) Is a change like this likely to be accepted?
</I>&gt;<i> b) namespace support seems really limited in nanoxml when used in
</I> IzPack. I'm not seeing any. Am I missing something?

We use a rather old version of NanoXML (with some patches too). Because
we opted for small installer size and the new NanoXML is a lot larger
(in terms of JAR size which needs to be included in every installer),
 we
didn't want to switch.

So, yes, there's no namespace support and the parser is very
lightweight. Oh, BTW: We don't use SAX or JAXP because installers
 should
still run on 1.2? or 1.3 JREs.

&gt;<i> c) Is it preferable to make changes to the nanoxml packages or the
</I> izPack packages. I'm asking because it makes little difference to the
&gt;<i> code and many people prefer to keep third party source as original as
</I> possible.

I'd go for changing NanoXML. We're not going to upgrade anyway. And if
we do, it will be major changes.

Bye,

Tino.

-- 
www.craniosacralzentrum.de
www.lebensraum11.de
www.spiritualdesign-chemnitz.de

Tino Schwarze * Parkstra&#223;e 17h * 09120 Chemnitz
_______________________________________________
izpack-devel mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">https://lists.berlios.de/mailman/listinfo/izpack-devel</A>





      __________________________________________________________
Sent from Yahoo! Mail - a smarter inbox <A HREF="http://uk.mail.yahoo.com">http://uk.mail.yahoo.com</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001315.html">[izpack-devel] Adding XInclude support
</A></li>
	<LI>Next message: <A HREF="001317.html">[izpack-devel] Adding XInclude support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1316">[ date ]</a>
              <a href="thread.html#1316">[ thread ]</a>
              <a href="subject.html#1316">[ subject ]</a>
              <a href="author.html#1316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-devel">More information about the izpack-devel
mailing list</a><br>
</body></html>
