<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-devel] Problems with VM 1.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Problems%20with%20VM%201.5&In-Reply-To=HPEKIFMJKCAJHFKEPLIHIELJCLAA.elmar%40grom.net">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000310.html">
   <LINK REL="Next"  HREF="000311.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-devel] Problems with VM 1.5</H1>
    <B>Elmar Grom</B> 
    <A HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Problems%20with%20VM%201.5&In-Reply-To=HPEKIFMJKCAJHFKEPLIHIELJCLAA.elmar%40grom.net"
       TITLE="[izpack-devel] Problems with VM 1.5">elmar at grom.net
       </A><BR>
    <I>Fri Jul 14 01:41:21 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000310.html">[izpack-devel] Problems with VM 1.5
</A></li>
        <LI>Next message: <A HREF="000311.html">[izpack-devel] Proposed fix for Compiler.java TODO task
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#321">[ date ]</a>
              <a href="thread.html#321">[ thread ]</a>
              <a href="subject.html#321">[ subject ]</a>
              <a href="author.html#321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Folks,

I had a closer look at a log file that was produced during installation,
when a EXCEPTION_ACCESS_VIOLATION occurred.

I am not sure that I interpret the information correctly but it appears
that:

1) the error bubbles up from kernel32.dll. This would mean it is not
generated by the VM but by the OS
2) ShellLink.dll is not loaded when this happens
3) there are no instances of FreeThread left that might be stuck

In other words I see no evidence in the log that points to the deletion of
the DLL being the culprit. In fact I see no evidence that the JVM is the
culprit either thought the case for this is rather weak. Not sure where this
leaves us but since nothing actually seems to go wrong during the
installation I don't see any reason for attempting to take drastic measures.

	Elmar


-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-admin at berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-admin at berlios.de</A>]On Behalf Of Elmar Grom
Sent: Monday, July 10, 2006 4:17 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel at berlios.de</A>
Subject: RE: [izpack-devel] Problems with VM 1.5


Klaus,

here is some new information on this topic. Unfortunately it is rather
inconclusive.

First of all, I see the problem now as well. But only with version 3.8. This
supports me in my believe that the problem is not with the JVM or with the
shortcut DLL per se. Years ago I had some problems of this type but it was
with plain vanilla Java code. While this proves nothing, at least it shows
the possibility that it does not necessarily have something to do with
native code.

The one thing that bugs me is that the problem does not show in any
consistent way. Just now I saw it two times out of 16 runs....

	Elmar


-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-admin at berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-admin at berlios.de</A>]On Behalf Of Elmar Grom
Sent: Thursday, June 22, 2006 3:01 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel at berlios.de</A>
Subject: RE: [izpack-devel] Problems with VM 1.5


Klaus,

there is nothing attached, I suppose the mailing list strips off
attachments.

The fact that it does not just crash always or never, but just sometimes it
really strange. I wonder if it might have something to do with the dead
threads hogging some resources that are exhausted after so many tries.
Perhaps a more realistic test would be to implement the test loop in a batch
file, so that the VM actually exits before you start the next test.

If all else fails we still have the option of not deleting the DLL. That's a
bit dirty and I don't really like it, which is why I spent so much time back
then to come up with a solution for this problem. Still, it is much better
than crashing and it would not be any worse than many other applications
that clog up the temp directory with their garbage (though I did not want to
be part of that crowd).

Julien, what do you think about this approach?

	Elmar

_______________________________________________
izpack-devel mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel at lists.berlios.de</A>
<A HREF="http://lists.berlios.de/mailman/listinfo/izpack-devel">http://lists.berlios.de/mailman/listinfo/izpack-devel</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000310.html">[izpack-devel] Problems with VM 1.5
</A></li>
	<LI>Next message: <A HREF="000311.html">[izpack-devel] Proposed fix for Compiler.java TODO task
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#321">[ date ]</a>
              <a href="thread.html#321">[ thread ]</a>
              <a href="subject.html#321">[ subject ]</a>
              <a href="author.html#321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-devel">More information about the izpack-devel
mailing list</a><br>
</body></html>
