<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [izpack-devel] Problems with VM 1.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Problems%20with%20VM%201.5&In-Reply-To=">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000330.html">
   <LINK REL="Next"  HREF="000331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[izpack-devel] Problems with VM 1.5</H1>
    <B>Bartz, Klaus</B> 
    <A HREF="mailto:izpack-devel%40lists.berlios.de?Subject=%5Bizpack-devel%5D%20Problems%20with%20VM%201.5&In-Reply-To="
       TITLE="[izpack-devel] Problems with VM 1.5">Klaus.Bartz at coi.de
       </A><BR>
    <I>Tue Jul 18 08:28:12 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000330.html">[izpack-devel] IzPanel Layout
</A></li>
        <LI>Next message: <A HREF="000331.html">[izpack-devel] New developer + updated admins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#328">[ date ]</a>
              <a href="thread.html#328">[ thread ]</a>
              <a href="subject.html#328">[ subject ]</a>
              <a href="author.html#328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Elmar,
in all my hs_err_pid&lt;PID&gt;.log files there are lines like
#
# An unexpected error has been detected by HotSpot Virtual Machine:
#
#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x6d74cba7, pid=3860, tid=3936
#
# Java VM: Java HotSpot(TM) Client VM (1.5.0_06-b05 mixed mode, sharing)
# Problematic frame:
# V  [jvm.dll+0x6cba7]
#
For the offset there are two or three different, but nearly values.
&quot;our&quot; dlls are not listed at that time. But the threads which closes the 
dlls are existent and the state is &quot;_thread_in_native&quot;.

I think the crash is not in the method FreeLibrary else the VM does later
some thing assumptioning that the dll is loaded and ready todo something.
May be it can be also in the kernel32.dll.
One thing what assist my thinking is the case that I have no crash since I 
have changed it from FreeLibraryAndExitThread (handle, 0); to a second
process which removes the dlls.
OK, that's only hints. But what should we do? I have no time to debug
the VM (the code is really hard to read). It seems so, that Javasoft will
not change the problem (no reaction since over a year). In the OS there
can not be a bug because they produce only features, no bugs.

Cheers

Klaus

&gt;<i>-----Original Message-----
</I>&gt;<i>From: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-bounces at bat.berlios.de</A>
</I>&gt;<i>[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel-bounces at bat.berlios.de</A>]On Behalf Of Elmar Grom
</I>&gt;<i>Sent: Friday, July 14, 2006 1:41 AM
</I>&gt;<i>To: <A HREF="https://lists.berlios.de/mailman/listinfo/izpack-devel">izpack-devel at berlios.de</A>
</I>&gt;<i>Subject: Re: [izpack-devel] Problems with VM 1.5
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Folks,
</I>&gt;<i>
</I>&gt;<i>I had a closer look at a log file that was produced during 
</I>&gt;<i>installation,
</I>&gt;<i>when a EXCEPTION_ACCESS_VIOLATION occurred.
</I>&gt;<i>
</I>&gt;<i>I am not sure that I interpret the information correctly but it appears
</I>&gt;<i>that:
</I>&gt;<i>
</I>&gt;<i>1) the error bubbles up from kernel32.dll. This would mean it is not
</I>&gt;<i>generated by the VM but by the OS
</I>&gt;<i>2) ShellLink.dll is not loaded when this happens
</I>&gt;<i>3) there are no instances of FreeThread left that might be stuck
</I>&gt;<i>
</I>&gt;<i>In other words I see no evidence in the log that points to the 
</I>&gt;<i>deletion of
</I>&gt;<i>the DLL being the culprit. In fact I see no evidence that the 
</I>&gt;<i>JVM is the
</I>&gt;<i>culprit either thought the case for this is rather weak. Not 
</I>&gt;<i>sure where this
</I>&gt;<i>leaves us but since nothing actually seems to go wrong during the
</I>&gt;<i>installation I don't see any reason for attempting to take 
</I>&gt;<i>drastic measures.
</I>&gt;<i>
</I>&gt;<i>	Elmar
</I>&gt;<i>
</I>&gt;<i>
</I>&lt;snip&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hs_err_pid3860.log
Type: application/octet-stream
Size: 7469 bytes
Desc: hs_err_pid3860.log
Url : <A HREF="https://lists.berlios.de/pipermail/izpack-devel/attachments/20060718/b52be3fa/attachment.obj">https://lists.berlios.de/pipermail/izpack-devel/attachments/20060718/b52be3fa/attachment.obj</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000330.html">[izpack-devel] IzPanel Layout
</A></li>
	<LI>Next message: <A HREF="000331.html">[izpack-devel] New developer + updated admins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#328">[ date ]</a>
              <a href="thread.html#328">[ thread ]</a>
              <a href="subject.html#328">[ subject ]</a>
              <a href="author.html#328">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/izpack-devel">More information about the izpack-devel
mailing list</a><br>
</body></html>
